# START HERE - Deploy in 30 Minutes

Everything is ready to deploy. Pick your path below.

---

## Path 1: Test Locally First (Recommended)

**Time: 10 minutes**

```bash
# 1. Clone repo
git clone <your-repo>
cd <your-repo>

# 2. Setup environment
cp .env.example .env

# 3. Start everything
docker-compose up

# 4. In new terminal - run migrations
docker-compose exec backend python manage.py migrate
docker-compose exec backend python manage_setup.py create-admin
docker-compose exec backend python manage_setup.py seed-domains

# 5. Start frontend (in project root, NOT backend/)
npm install
npm run dev
```

**Access:**
- Frontend: http://localhost:3000
- Admin: http://localhost:8000/admin (email: admin@example.com, pwd: check .env)
- API: http://localhost:8000/api/

**Test:** Register â†’ Verify OTP â†’ Setup profile â†’ Browse matches â†’ Start chat

---

## Path 2: Deploy to Production (Vercel + Railway)

**Time: 20 minutes**

### Step 1: Frontend to Vercel

```bash
# 1. Push code to GitHub
git add .
git commit -m "Initial commit"
git push origin main

# 2. Go to https://vercel.com
# - Click "New Project"
# - Select your GitHub repo
# - Framework: Next.js
# - Create Project

# 3. Add Environment Variables in Vercel
# Settings â†’ Environment Variables
NEXT_PUBLIC_API_URL=https://your-api.railway.app
NEXT_PUBLIC_WS_URL=wss://your-api.railway.app

# 4. Deploy (automatic)
```

**Your frontend is now live at:** `https://your-project.vercel.app`

### Step 2: Backend to Railway

```bash
# 1. Go to https://railway.app
# - Login/Signup
# - New Project
# - Deploy from GitHub

# 2. Add Services
# - PostgreSQL (add from marketplace)
# - Redis (add from marketplace)

# 3. Configure Backend
# - Connect GitHub repo
# - Select /backend as root directory
# - Auto-detect Django
# - Deploy

# 4. Add Environment Variables
# - Settings â†’ Variables
DATABASE_URL=<auto-generated>
REDIS_URL=<auto-generated>
DEBUG=False
DJANGO_SECRET_KEY=<generate random string>
ALLOWED_HOSTS=your-backend.railway.app,api.yourdomain.com
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD_HASH=<hashed password>
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# 5. Add Procfile support
# Railway auto-detects Procfile in backend/

# 6. Deploy
```

### Step 3: Run Migrations

```bash
# After backend deployed to Railway:
# Use Railway dashboard â†’ Terminal tab

python manage.py migrate
python manage_setup.py create-admin
python manage_setup.py seed-domains
```

**Your backend is now live at:** `https://your-backend.railway.app`

### Step 4: Update Frontend URLs

```
# In Vercel Dashboard:
# Settings â†’ Environment Variables
NEXT_PUBLIC_API_URL=https://your-backend.railway.app
NEXT_PUBLIC_WS_URL=wss://your-backend.railway.app

# Redeploy
```

### Step 5: Custom Domain (Optional)

**Vercel:**
- Settings â†’ Domains
- Add your domain
- Update DNS records

**Railway:**
- Settings â†’ Domain
- Add your domain
- Update DNS records

---

## Path 3: Deploy to Other Platforms

### AWS ECS + RDS + ElastiCache

See `/docs/VERCEL_DEPLOYMENT.md` â†’ AWS option

### Heroku

```bash
# Backend
git subtree push --prefix backend heroku main

# Frontend
vercel deploy
```

### DigitalOcean / Linode / Hetzner

See `/docs/DEPLOYMENT.md` â†’ Docker Compose section

---

## Common Issues & Fixes

### "WebSocket connection failed"

**Fix:** Update `NEXT_PUBLIC_WS_URL` in Vercel to match your backend domain

```
Should be: wss://your-api.railway.app (not http)
```

### "Database connection error on Railway"

**Fix:** Railway auto-generates DATABASE_URL. Make sure it's set:

```
Settings â†’ Variables â†’ Check DATABASE_URL exists
```

### "Email not working"

**Fix:** Gmail requires "App Password" (not your regular password)

```
1. Go to myaccount.google.com/apppasswords
2. Generate app password for "Mail"
3. Use that in EMAIL_HOST_PASSWORD
```

### "Admin login not working"

**Fix:** Create admin after deployment:

```bash
# In Railway Terminal
python manage.py createsuperuser

# Or use:
python manage_setup.py create-admin
```

### "Celery tasks not running"

**Fix:** Make sure both worker and beat are running

```bash
# On Railway, add two services:
# Service 1: celery -A config worker -l info
# Service 2: celery -A config beat -l info
```

---

## Verify Deployment

### Frontend
- [ ] Can visit https://your-domain.com
- [ ] Can register with email
- [ ] Page loads without errors

### Backend
- [ ] Can visit https://api.your-domain.com/api/auth/register/
- [ ] Returns 405 (method not allowed) = good, API is up
- [ ] Can POST to register endpoint

### Admin
- [ ] Can visit https://api.your-domain.com/admin
- [ ] Can login with admin credentials
- [ ] Can see users in admin panel

### Chat
- [ ] Two test accounts can match
- [ ] WebSocket connects (check browser console)
- [ ] Can send messages in real-time

---

## Production Checklist

Before going live with real users:

```
Security
- [ ] DEBUG=False
- [ ] ALLOWED_HOSTS set correctly
- [ ] DJANGO_SECRET_KEY is strong
- [ ] Admin password is secure

Data
- [ ] Database backups enabled
- [ ] Email service working
- [ ] Payment gateway configured

Monitoring
- [ ] Error tracking enabled (Sentry)
- [ ] Logs accessible
- [ ] Uptime monitoring active

Performance
- [ ] Load tested (try 100 concurrent users)
- [ ] WebSocket stable
- [ ] API response time < 500ms

Full Checklist: /docs/PRODUCTION_CHECKLIST.md
```

---

## Need Help?

### Documentation
- **Setup**: `/README.md`
- **Quick Start**: `/QUICK_START.md`
- **API Reference**: `/docs/API_DOCUMENTATION.md`
- **WebSocket Guide**: `/docs/WEBSOCKET_EVENTS.md`
- **Admin Guide**: `/docs/ADMIN_GUIDE.md`
- **Deployment Details**: `/docs/VERCEL_DEPLOYMENT.md`
- **Production**: `/docs/PRODUCTION_CHECKLIST.md`

### Debugging
- Check logs in Vercel/Railway dashboard
- Check browser console for frontend errors
- Check `/docs/ENVIRONMENT_VARIABLES.md` for all required env vars

### Common Commands

```bash
# Local development
docker-compose up
npm run dev

# Migrations
docker-compose exec backend python manage.py migrate

# Create admin
docker-compose exec backend python manage_setup.py create-admin

# Seed data
docker-compose exec backend python manage_setup.py seed-domains

# View logs
docker-compose logs backend
docker-compose logs frontend

# Stop everything
docker-compose down
```

---

## Timeline

âœ… **5 min**: Local setup with Docker
âœ… **10 min**: Test auth flow locally
âœ… **15 min**: Deploy frontend to Vercel
âœ… **20 min**: Deploy backend to Railway
âœ… **25 min**: Run migrations on production
âœ… **30 min**: Verify everything works

**Total time to production: 30 minutes**

---

## What's Included

âœ… Complete backend (Django + WebSocket)
âœ… Complete frontend (Next.js)
âœ… Database setup (PostgreSQL)
âœ… Caching (Redis)
âœ… Background jobs (Celery)
âœ… Admin dashboard
âœ… Real-time chat
âœ… Authentication
âœ… Matching system
âœ… Payment ready
âœ… All documentation
âœ… Testing scripts
âœ… Docker setup

---

## Your URLs After Deployment

```
Frontend:     https://your-app.vercel.app
Backend API:  https://your-api.railway.app
Admin Panel:  https://your-api.railway.app/admin
WebSocket:    wss://your-api.railway.app
```

---

## You're Ready!

Everything is built, tested, and ready to ship. Choose your path above and start deploying.

**No missing pieces. No errors. Fully functional.**

Questions? Check the docs in `/docs/` folder.

**Happy shipping!** ðŸš€

---

**Generated:** 2026-01-31
**Status:** Ready for Production
**Deployment Time:** 30 minutes
